{"version":3,"sources":["components/Profile/Profile.module.css","hoc/withAuthRedirect.js","components/Profile/ProfileImage/ProfileImage.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/ProfilePost/ProfilePost.js","components/Profile/Profile.js","components/Profile/ProfileContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","ProfileImage","src","img","className","s","img_audi","isOwner","type","onChange","e","target","files","length","savePhotos","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","interes","form_interes","currentTarget","onBlur","putStatus","autoFocus","z","onDoubleClick","ProfileInfo","name","ProfilePost","memo","post","text","like","maxLength10","maxLength","FormProfileRedux","reduxForm","form","onSubmitSuccess","result","dispatch","reset","groupForm","onSubmit","handleSubmit","Field","placeholder","validate","required","component","Input","btnAdd","Profile","profile","center__part","photos","large","fullName","putProfileStatus","posts","addPost","map","el","key","Preloader","ProfielAPIContainer","userId","match","params","setProfileInformation","setProfileStatus","refreshInfo","prevProps","prevState","compose","profilePage","postText","postData","id","withRouter"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,aAAe,8BAA8B,SAAW,0BAA0B,KAAO,sBAAsB,QAAU,yBAAyB,aAAe,8BAA8B,MAAQ,uBAAuB,UAAY,2BAA2B,KAAO,sBAAsB,OAAS,0B,6GCGzTC,EAA6B,SAACC,GAC9B,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAmBZE,IAfiB,SAACC,GAAe,IAEtCC,EAFqC,iLAInC,OAAKC,KAAKC,MAAMN,OAET,kBAACG,EAAcE,KAAKC,OAFI,kBAAC,IAAD,CAAUC,GAAI,eAJV,GAEXC,IAAML,WAUtC,OAF4BM,YAAQX,EAARW,CAAoCL,K,+HCCrDM,EAhBM,SAACJ,GAQlB,OACI,oCACI,yBAAKK,IAAoB,OAAdL,EAAMM,IAAeN,EAAMM,IAAM,yEAA0EC,UAAWC,IAAEC,WACjIT,EAAMU,SAAW,2BAAOC,KAAK,OAAOC,SAT1B,SAACC,GACdA,EAAEC,OAAOC,MAAMC,QACdhB,EAAMiB,WAAWJ,EAAEC,OAAOC,MAAM,SCN7B,SAASG,EAAeC,EAAKC,GAC1C,OCJa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDGxB,CAAeA,IEJT,SAA+BA,EAAKC,GACjD,GAAMG,OAAOC,YAAYC,OAAON,IAAgD,uBAAxCM,OAAOC,UAAUC,SAASC,KAAKT,GAAvE,CAIA,IAAIU,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKhB,EAAII,OAAOC,cAAmBM,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAETnB,GAAKS,EAAKb,SAAWI,GAH8CU,GAAK,IAK9E,MAAOU,GACPT,GAAK,EACLC,EAAKQ,EACL,QACA,IACOV,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFvBuB,CAAqBV,EAAKC,IGJ3C,WACb,MAAM,IAAIqB,UAAU,wDHG0C,GIAhE,IAgCeC,EAhCgB,SAAC1C,GAAW,IAAD,IAER2C,oBAAS,GAFD,GAEjCC,EAFiC,KAEvBC,EAFuB,SAGZF,mBAAS3C,EAAM8C,QAHH,GAGjCA,EAHiC,KAGzBC,EAHyB,KAKtCC,qBAAU,WACND,EAAU/C,EAAM8C,UACjB,CAAC9C,EAAM8C,SAaN,OACI,yBAAKvC,UAAWC,IAAEyC,SACd,uBAAG1C,UAAWC,IAAE0C,cAAhB,yCAEIN,EACA,2BAAOL,MAAOO,EAAQlC,SATf,SAACC,GACpBkC,EAAUlC,EAAEsC,cAAcZ,QAQmCa,OAb1C,WACnBP,GAAY,GACZ7C,EAAMqD,UAAUP,IAWuEQ,WAAW,EAAMC,EAAE,wGAAwB5C,KAAK,SACzH,uBAAG6C,cAjBA,WACjBX,GAAY,KAgBqC7C,EAAM8C,UChBhDW,EATK,SAACzD,GACjB,OACI,6BACI,yBAAKO,UAAWC,IAAEkD,MAAO1D,EAAM0D,MAC/B,kBAAC,EAAD,CAAwBZ,OAAQ9C,EAAM8C,OAAQO,UAAWrD,EAAMqD,cCG5DM,EATKzD,IAAM0D,MAAK,SAAC5D,GAC5B,OACI,yBAAKO,UAAWC,IAAEqD,MACd,2BAAI7D,EAAM8D,MACV,sCAAY9D,EAAM+D,U,kDCgC1BC,EAAcC,YAAU,IAaxBC,EAAmBC,YAAU,CAACC,KAAM,UAAWC,gBAHjC,SAACC,EAAQC,GACvBA,EAASC,YAAM,cAEIL,EAXL,SAACnE,GACf,OACI,0BAAMO,UAAWC,IAAEiE,UAAWC,SAAU1E,EAAM2E,cAC1C,kBAACC,EAAA,EAAD,CAAOlB,KAAK,OAAOmB,YAAY,yEAAkBC,SAAU,CAACC,IAAUf,GAAcgB,UAAWC,IAAOtE,KAAK,SAC3G,4BAAQJ,UAAWC,IAAE0E,QAArB,wDASGC,EA3CC,SAACnF,GAOb,OACI,6BAESA,EAAMoF,QACH,yBAAK7E,UAAWC,IAAE6E,cAClB,kBAAC,EAAD,CAAc/E,IAAKN,EAAMoF,QAAQE,OAAOC,MAAO7E,QAASV,EAAMU,QAASO,WAAYjB,EAAMiB,aACzF,kBAAC,EAAD,CAAa6B,OAAQ9C,EAAM8C,OAAQY,KAAM1D,EAAMoF,QAAQI,SAAUnC,UAAWrD,EAAMyF,mBAClF,yBAAKlF,UAAWC,IAAEkF,OACd,kBAACxB,EAAD,CAAkBQ,SAbxB,SAACb,GACX7D,EAAM2F,QAAQ9B,EAAKA,SAeC7D,EAAM6D,KAAK+B,KAAI,SAACC,EAAIzE,GAAL,OAAa,kBAAC,EAAD,CAAa0C,KAAM+B,EAAG/B,KAAMgC,IAAK1E,EAAG2C,KAAM8B,EAAG9B,YARpE,kBAACgC,EAAA,EAAD,Q,gCCb3BC,E,sLAGE,IAAIC,EAASlG,KAAKC,MAAMkG,MAAMC,OAAOF,OACjCA,IACAA,EAASlG,KAAKC,MAAMiG,QAGxBlG,KAAKC,MAAMoG,sBAAsBH,GACjClG,KAAKC,MAAMqG,iBAAiBJ,K,0CAI5BlG,KAAKuG,gB,yCAEUC,EAAWC,GACvBzG,KAAKC,MAAMkG,MAAMC,OAAOF,QAAUM,EAAUL,MAAMC,OAAOF,QACxDlG,KAAKuG,gB,+BAKT,OAAO,kBAAC,EAAD,iBAAavG,KAAKC,MAAlB,CAAyBU,SAAUX,KAAKC,MAAMkG,MAAMC,OAAOF,c,GAtBxC/F,IAAML,WAqCzB4G,sBACXtG,aAZkB,SAACV,GACnB,MAAO,CACH8C,MAAO9C,EAAMiH,YAAYC,SACzB9C,KAAMpE,EAAMiH,YAAYE,SACxBxB,QAAS3F,EAAMiH,YAAYtB,QAC3BtC,OAAQrD,EAAMiH,YAAY5D,OAC1BmD,OAAQxG,EAAME,KAAKkH,GACnBnH,OAAQD,EAAME,KAAKD,UAKE,CACrBiG,YACAS,0BACAC,qBACAZ,qBACAxE,iBAEJ6F,IACAlH,IATW6G,CAUbT","file":"static/js/4.84031cf1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"center__part\":\"Profile_center__part__1g4fU\",\"img_audi\":\"Profile_img_audi__f2Zca\",\"name\":\"Profile_name__vG-K9\",\"interes\":\"Profile_interes__1oQ_N\",\"form_interes\":\"Profile_form_interes__czMkW\",\"posts\":\"Profile_posts__1Swr6\",\"groupForm\":\"Profile_groupForm__3WTSt\",\"post\":\"Profile_post__1RVL_\",\"btnAdd\":\"Profile_btnAdd__Q1Ljh\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    \r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n            \r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let AuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return AuthRedirectComponent;\r\n}\r\n\r\nexport default withAuthRedirect;","import React from 'react';\r\nimport s from './../Profile.module.css';\r\n\r\n\r\n\r\nconst ProfileImage = (props) => {\r\n\r\n    const changePhoto = (e) => {\r\n        if(e.target.files.length) {\r\n            props.savePhotos(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <img src={ props.img !== null ? props.img : 'https://cdn.pixabay.com/photo/2017/03/24/06/49/camera-2170377_1280.png'} className={s.img_audi}></img>\r\n            { props.isOwner && <input type='file' onChange={changePhoto} /> }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileImage;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState, useEffect } from 'react';\r\nimport s from './../Profile.module.css';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEdit = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEdit = () => {\r\n        setEditMode(false);\r\n        props.putStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n        return (\r\n            <div className={s.interes}>\r\n                <p className={s.form_interes}>Статус:</p>   \r\n                {\r\n                    editMode ? \r\n                    <input value={status} onChange={onStatusChange}  onBlur={ deactivateEdit } autoFocus={true} z='Введите ваш статус...' type=\"text\"/>\r\n                    : <p onDoubleClick={ activateEdit }>{props.status}</p>\r\n                }        \r\n            </div>\r\n        )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './../Profile.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.name}>{props.name}</div>\r\n            <ProfileStatusWithHooks status={props.status} putStatus={props.putStatus} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './../Profile.module.css';\r\n\r\nconst ProfilePost = React.memo((props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <p>{props.text}</p>\r\n            <div>like: {props.like}</div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default ProfilePost;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileImage from './ProfileImage/ProfileImage';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport ProfilePost from './ProfilePost/ProfilePost';\r\nimport Preloader from '../common/Preloader';\r\nimport { reduxForm, Field, reset } from 'redux-form';\r\nimport { Input } from '../common/Forms';\r\nimport { required, maxLength } from '../../utils/validators/validators';\r\n\r\n\r\nconst Profile = (props) => {\r\n    \r\n    let addPost = (post) => {\r\n        props.addPost(post.post);\r\n    }\r\n\r\n     \r\n    return (\r\n        <div>\r\n            {\r\n                !props.profile ? <Preloader /> : (\r\n                    <div className={s.center__part}>\r\n                    <ProfileImage img={props.profile.photos.large} isOwner={props.isOwner} savePhotos={props.savePhotos} />\r\n                    <ProfileInfo status={props.status} name={props.profile.fullName} putStatus={props.putProfileStatus} />\r\n                    <div className={s.posts}>\r\n                        <FormProfileRedux onSubmit={addPost} />\r\n        \r\n                        {\r\n                            props.post.map((el, i) => ( <ProfilePost text={el.text} key={i} like={el.like} /> ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nlet maxLength10 = maxLength(10);\r\n\r\nlet FormProfile = (props) => {\r\n    return (\r\n        <form className={s.groupForm} onSubmit={props.handleSubmit}>\r\n            <Field name=\"post\" placeholder=\"Введите пост...\" validate={[required, maxLength10]} component={Input} type=\"text\" />\r\n            <button className={s.btnAdd}>Добавить</button>\r\n        </form>\r\n    )\r\n}\r\nlet afterSubmit = (result, dispatch) => {\r\n    dispatch(reset('profile'));\r\n}\r\nlet FormProfileRedux = reduxForm({form: 'profile', onSubmitSuccess: afterSubmit})(FormProfile);\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {addPost, setProfileInformation, setProfileStatus, putProfileStatus, savePhotos} from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfielAPIContainer extends React.Component {\r\n\r\n    refreshInfo() {\r\n        let userId = this.props.match.params.userId;\r\n        if(!userId) {\r\n            userId = this.props.userId;            \r\n        }\r\n\r\n        this.props.setProfileInformation(userId);\r\n        this.props.setProfileStatus(userId);\r\n    }\r\n\r\n    componentDidMount() { \r\n        this.refreshInfo();\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshInfo();\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return <Profile {...this.props} isOwner={!this.props.match.params.userId} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        value: state.profilePage.postText,\r\n        post: state.profilePage.postData,\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        userId: state.auth.id,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { \r\n        addPost,\r\n        setProfileInformation,\r\n        setProfileStatus,\r\n        putProfileStatus,\r\n        savePhotos\r\n        }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfielAPIContainer);"],"sourceRoot":""}