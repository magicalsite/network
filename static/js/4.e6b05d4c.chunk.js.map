{"version":3,"sources":["components/Profile/Profile.module.css","hoc/withAuthRedirect.js","components/Profile/ProfileImage/ProfileImage.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/ProfilePost/ProfilePost.js","components/Profile/Profile.js","components/Profile/ProfileContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","ProfileImage","src","img","className","s","img_audi","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","interes","form_interes","onChange","e","currentTarget","onBlur","putStatus","autoFocus","z","type","onDoubleClick","ProfileInfo","name","ProfilePost","memo","post","text","like","maxLength10","maxLength","FormProfileRedux","reduxForm","form","onSubmitSuccess","result","dispatch","reset","groupForm","onSubmit","handleSubmit","Field","placeholder","validate","required","component","Input","btnAdd","Profile","profile","center__part","photos","large","fullName","putProfileStatus","posts","addPost","map","el","key","Preloader","ProfielAPIContainer","userId","match","params","setProfileInformation","setProfileStatus","compose","profilePage","postText","postData","id","withRouter"],"mappings":"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","file":"static/js/4.e6b05d4c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"center__part\":\"Profile_center__part__1g4fU\",\"img_audi\":\"Profile_img_audi__f2Zca\",\"name\":\"Profile_name__vG-K9\",\"interes\":\"Profile_interes__1oQ_N\",\"form_interes\":\"Profile_form_interes__czMkW\",\"posts\":\"Profile_posts__1Swr6\",\"groupForm\":\"Profile_groupForm__3WTSt\",\"post\":\"Profile_post__1RVL_\",\"btnAdd\":\"Profile_btnAdd__Q1Ljh\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    \r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n            \r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let AuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return AuthRedirectComponent;\r\n}\r\n\r\nexport default withAuthRedirect;","import React from 'react';\r\nimport s from './../Profile.module.css';\r\n\r\n\r\n\r\nconst ProfileImage = (props) => {\r\n    return (\r\n        <img src={ props.img !== null ? props.img : 'https://cdn.pixabay.com/photo/2017/03/24/06/49/camera-2170377_1280.png'} className={s.img_audi}></img>\r\n    )\r\n}\r\n\r\nexport default ProfileImage;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState, useEffect } from 'react';\r\nimport s from './../Profile.module.css';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEdit = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEdit = () => {\r\n        setEditMode(false);\r\n        props.putStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n        return (\r\n            <div className={s.interes}>\r\n                <p className={s.form_interes}>Статус:</p>   \r\n                {\r\n                    editMode ? \r\n                    <input value={status} onChange={onStatusChange}  onBlur={ deactivateEdit } autoFocus={true} z='Введите ваш статус...' type=\"text\"/>\r\n                    : <p onDoubleClick={ activateEdit }>{props.status}</p>\r\n                }        \r\n            </div>\r\n        )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './../Profile.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.name}>{props.name}</div>\r\n            <ProfileStatusWithHooks status={props.status} putStatus={props.putStatus} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './../Profile.module.css';\r\n\r\nconst ProfilePost = React.memo((props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <p>{props.text}</p>\r\n            <div>like: {props.like}</div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default ProfilePost;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileImage from './ProfileImage/ProfileImage';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport ProfilePost from './ProfilePost/ProfilePost';\r\nimport Preloader from '../common/Preloader';\r\nimport { reduxForm, Field, reset } from 'redux-form';\r\nimport { Input } from '../common/Forms';\r\nimport { required, maxLength } from '../../utils/validators/validators';\r\n\r\n\r\nconst Profile = (props) => {\r\n    \r\n    let addPost = (post) => {\r\n        props.addPost(post.post);\r\n    }\r\n    \r\n     \r\n    return (\r\n        <div>\r\n            {\r\n                !props.profile ? <Preloader /> : (\r\n                    <div className={s.center__part}>\r\n                    <ProfileImage img={props.profile.photos.large} />\r\n                    <ProfileInfo status={props.status} name={props.profile.fullName} putStatus={props.putProfileStatus} />\r\n                    <div className={s.posts}>\r\n                        <FormProfileRedux onSubmit={addPost} />\r\n        \r\n                        {\r\n                            props.post.map((el, i) => ( <ProfilePost text={el.text} key={i} like={el.like} /> ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nlet maxLength10 = maxLength(10);\r\n\r\nlet FormProfile = (props) => {\r\n    return (\r\n        <form className={s.groupForm} onSubmit={props.handleSubmit}>\r\n            <Field name=\"post\" placeholder=\"Введите пост...\" validate={[required, maxLength10]} component={Input} type=\"text\" />\r\n            <button className={s.btnAdd}>Добавить</button>\r\n        </form>\r\n    )\r\n}\r\nlet afterSubmit = (result, dispatch) => {\r\n    dispatch(reset('profile'));\r\n}\r\nlet FormProfileRedux = reduxForm({form: 'profile', onSubmitSuccess: afterSubmit})(FormProfile);\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {addPost, setProfileInformation, setProfileStatus, putProfileStatus} from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfielAPIContainer extends React.Component {\r\n\r\n    componentDidMount() { \r\n        let userId = this.props.match.params.userId;\r\n        if(!userId) {\r\n            userId = this.props.userId;            \r\n        }\r\n\r\n        this.props.setProfileInformation(userId);\r\n        this.props.setProfileStatus(userId);\r\n\r\n    }\r\n    \r\n    render() {\r\n        return <Profile {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        value: state.profilePage.postText,\r\n        post: state.profilePage.postData,\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        userId: state.auth.id,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { \r\n        addPost,\r\n        setProfileInformation,\r\n        setProfileStatus,\r\n        putProfileStatus\r\n        }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfielAPIContainer);"],"sourceRoot":""}